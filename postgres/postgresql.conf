#------------------------------------------------------------------------------
# CONNECTIONS AND AUTHENTICATION
#------------------------------------------------------------------------------

# Listen on all interfaces
listen_addresses = '*'          # Что PostgreSQL будет слушать (по умолчанию 'localhost')
port = 5432                     # Порт PostgreSQL (по умолчанию 5432)
max_connections = 100           # Максимальное количество одновременных подключений

#------------------------------------------------------------------------------
# RESOURCE USAGE (except WAL)
#------------------------------------------------------------------------------

shared_buffers = 128MB          # Размер буферов памяти
work_mem = 4MB                  # Память на одну операцию
maintenance_work_mem = 64MB     # Память для операций обслуживания

#------------------------------------------------------------------------------
# ERROR REPORTING AND LOGGING
#------------------------------------------------------------------------------

logging_collector = on          # Включить сбор логов
log_directory = 'log'           # Каталог для логов
log_filename = 'postgresql.log' # Имя файла логов
log_statement = 'all'           # Логировать все запросы (для отладки)

#------------------------------------------------------------------------------
# WRITE AHEAD LOG
#------------------------------------------------------------------------------

wal_level = replica             # Уровень WAL (для репликации или бэкапов)

#------------------------------------------------------------------------------
# QUERY TUNING
#------------------------------------------------------------------------------

default_statistics_target = 100 # Статистика для планировщика запросов
effective_cache_size = 4GB      # Ожидаемая доступная память кэша
random_page_cost = 4.0          # Стоимость случайного чтения страницы
